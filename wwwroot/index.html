<!DOCTYPE html>
<html lang="fa" dir="rtl">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>QuizWebAssembly</title>
    <base href="/" />
    <link rel="stylesheet" href="lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/app.css" />
    <link rel="icon" type="image/png" href="favicon.png" />
    <link href="QuizWebAssembly.styles.css" rel="stylesheet" />
    <!-- Font Awesome (Ø§Ø®ØªÛŒØ§Ø±ÛŒ Ø¨Ø±Ø§ÛŒ Ø¢ÛŒÚ©Ù†â€ŒÙ‡Ø§) -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
</head>

<body>
    <div id="app">
        <svg class="loading-progress">
            <circle r="40%" cx="50%" cy="50%" />
            <circle r="40%" cx="50%" cy="50%" />
        </svg>
        <div class="loading-progress-text"></div>
    </div>

    <div id="blazor-error-ui">
        An unhandled error has occurred.
        <a href="." class="reload">Reload</a>
        <span class="dismiss">ðŸ—™</span>
    </div>
    <script src="_framework/blazor.webassembly.js"></script>
    <script src="lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Toggle sidebar Ø¯Ø± Ù…ÙˆØ¨Ø§ÛŒÙ„
        const sidebar = document.getElementById('sidebar');
        const overlay = document.getElementById('overlay');
        const toggleSidebarBtn = document.getElementById('toggleSidebar');

        const openSidebar = () => {
            sidebar.classList.add('show');
            overlay.classList.add('show');
            document.body.style.overflow = 'hidden';
        }
        const closeSidebar = () => {
            sidebar.classList.remove('show');
            overlay.classList.remove('show');
            document.body.style.overflow = '';
        }

        toggleSidebarBtn?.addEventListener('click', openSidebar);
        overlay?.addEventListener('click', closeSidebar);

        // Ø¨Ø³ØªÙ† Ø®ÙˆØ¯Ú©Ø§Ø± Ø³Ø§ÛŒØ¯Ø¨Ø§Ø± Ù‡Ù†Ú¯Ø§Ù… Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ø®Ù„ÛŒ Ø¯Ø± Ù…ÙˆØ¨Ø§ÛŒÙ„
        sidebar.addEventListener('click', (e) => {
            const link = e.target.closest('a.sidebar-link');
            if (link && window.innerWidth <= 992) {
                // Ø§Ú¯Ø± Ù„ÛŒÙ†Ú© collapse Ø§Ø³ØªØŒ Ù†Ú¯Ø°Ø§Ø±ÛŒÙ… ÙÙˆØ±Ø§Ù‹ Ø¨Ø³ØªÙ‡ Ø´ÙˆØ¯
                if (!link.hasAttribute('data-bs-toggle')) {
                    closeSidebar();
                }
            }
        });
    </script>
    <script>
        window.blazorToast = {
            show: function (elem, delayMs) {
                if (!elem) return;
                try {
                    const opt = { autohide: true, delay: delayMs || 3000 };
                    const toast = bootstrap.Toast.getOrCreateInstance(elem, opt);
                    toast.show();
                } catch (e) {
                    console.warn("Toast init failed:", e);
                }
            }
        };
    </script>

</body>

</html>
